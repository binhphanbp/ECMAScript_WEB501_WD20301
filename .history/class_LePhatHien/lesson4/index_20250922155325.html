<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Danh s√°ch s·∫£n ph·∫©m</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 20px;
        background: #f4f4f9;
      }

      h1 {
        text-align: center;
        margin: 30px 0 15px;
      }

      .product-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 20px;
        margin-bottom: 40px;
      }

      .product-card {
        background: #fff;
        border-radius: 8px;
        padding: 15px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s ease-in-out;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .product-card:hover {
        transform: translateY(-5px);
      }

      .product-card img {
        max-width: 150px;
        max-height: 150px;
        object-fit: contain;
        margin-bottom: 10px;
      }

      .product-title {
        font-size: 16px;
        font-weight: bold;
        text-align: center;
        margin: 10px 0;
        height: 40px;
        overflow: hidden;
      }

      .product-price {
        color: #e67e22;
        font-size: 18px;
        font-weight: bold;
        margin: 5px 0;
      }

      .product-desc {
        font-size: 14px;
        color: #555;
        text-align: center;
        height: 50px;
        overflow: hidden;
      }

      .category-select {
        display: flex;
        justify-content: center;
        margin: 20px 0;
      }

      select {
        padding: 8px 12px;
        font-size: 16px;
        border-radius: 6px;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <h1>T·∫•t c·∫£ s·∫£n ph·∫©m üõçÔ∏è</h1>
    <div class="product-list" id="allProducts"></div>

    <h1>Men's Clothing üëî</h1>
    <div class="product-list" id="menClothing"></div>

    <h1>Women's Clothing üëó</h1>
    <div class="product-list" id="womenClothing"></div>

    <h1>Electronics üíª</h1>
    <div class="product-list" id="electronics"></div>

    <h1>Jewelry</h1>
    <div class="product-list" id="jewelery"></div>

    <h1>Ch·ªçn danh m·ª•c üè∑Ô∏è</h1>
    <div class="category-select">
      <select id="categorySelect"></select>
    </div>
    <div class="product-list" id="categoryProducts"></div>

    <script>
      async function renderProducts(containerId, category = null) {
        try {
          const response = await fetch('https://fakestoreapi.com/products');
          const products = await response.json();

          const container = document.getElementById(containerId);
          container.innerHTML = ''; // clear c≈© khi reload

          const filteredProducts = category
            ? products.filter((p) => p.category === category)
            : products;

          filteredProducts.forEach((product) => {
            const card = document.createElement('div');
            card.className = 'product-card';

            card.innerHTML = `
              <img src="${product.image}" alt="${product.title}" />
              <div class="product-title">${product.title}</div>
              <div class="product-price">$${product.price}</div>
              <div class="product-desc">${product.description}</div>
            `;

            container.appendChild(card);
          });
        } catch (error) {
          console.error('L·ªói khi t·∫£i s·∫£n ph·∫©m:', error);
        }
      }

      async function loadCategories() {
        try {
          const response = await fetch(
            'https://fakestoreapi.com/products/categories'
          );
          const categories = await response.json();

          const select = document.getElementById('categorySelect');

          categories.forEach((cat) => {
            const option = document.createElement('option');
            option.value = cat;
            option.textContent = cat.charAt(0).toUpperCase() + cat.slice(1);
            select.appendChild(option);
          });

          renderProducts('categoryProducts', categories[0]);

          select.addEventListener('change', (e) => {
            renderProducts('categoryProducts', e.target.value);
          });
        } catch (error) {
          console.error('L·ªói khi t·∫£i danh m·ª•c:', error);
        }
      }

      renderProducts('allProducts');
      renderProducts('menClothing', "men's clothing");
      renderProducts('womenClothing', "women's clothing");
      renderProducts('electronics', 'electronics');
      renderProducts('jewelery', 'jewelery');

      loadCategories();
    </script>
  </body>
</html>
